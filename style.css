/* تم تاریک */
[data-theme="dark"] {
    --text: #f9fafb;
    --muted: #9ca3af;
    --brand: #3b82f6;
    --brand-2: #60a5fa;
    --border: #374151;
    --card: #1f2937;
    --panel: #111827;
    --background: #0f172a;
}

/* ===== متغیرهای CSS ===== */
:root {
    --text: #1a1a1a;
    --muted: #666;
    --brand: #2563eb;
    --brand-2: #1d4ed8;
    --border: #e5e7eb;
    --card: #ffffff;
    --panel: #f9fafb;
    --background: #ffffff;
}

/* تم تاریک */
[data-theme="dark"] {
    --text: #f9fafb;
    --muted: #9ca3af;
    --brand: #3b82f6;
    --brand-2: #60a5fa;
    --border: #374151;
    --card: #1f2937;
    --panel: #111827;
    --background: #0f172a;
}

/* ===== پایه و تم ===== */

body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--background);
    color: var(--text);
    line-height: 1.6;
}

.container{max-width:1100px;margin:0 auto;padding:1rem}
.narrow{max-width:760px}


/* ===== هدر ===== */
.site-header{position:sticky;top:0;background:var(--panel);border-bottom:1px solid var(--border);z-index:10}
.header-inner{display:flex;align-items:center;gap:1rem}
.logo{font-weight:800;text-decoration:none;color:var(--text)}
.nav{margin-inline-start:auto;display:flex;gap:.75rem;align-items:center}
.nav a{color:var(--muted);text-decoration:none;padding:.5rem .75rem;border-radius:.75rem}
.nav a.active,.nav a:hover{color:var(--text);background:rgba(255,255,255,.05)}
.icon-btn{border:1px solid var(--border);background:transparent;border-radius:.75rem;padding:.45rem .6rem;cursor:pointer}


/* ===== قهرمان ===== */
.hero{padding:3rem 0 2rem}
.hero h1{margin:0 0 .5rem;font-size:2rem}
.hero p{color:var(--muted);margin:0 0 1rem}
.hero-actions{display:flex;gap:.5rem}


/* ===== کارت‌ها و گرید ===== */
.card{background:var(--card);border:1px solid var(--border);border-radius:1rem;padding:1rem}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}
.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}
@media (max-width:800px){.grid-3,.grid-2{grid-template-columns:1fr}}


/* ===== دکمه‌ها ===== */
.btn{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:white;border:none;border-radius:.9rem;padding:.6rem 1rem;cursor:pointer;text-decoration:none;display:inline-block}
.btn-ghost{background:transparent;border:1px solid var(--border);color:var(--text);border-radius:.9rem;padding:.5rem .9rem;text-decoration:none}
.btn:hover{opacity:.95}


.link{color:var(--brand-2);text-decoration:none}
.link:hover{text-decoration:underline}


/* ===== فوتر ===== */
.site-footer{margin-top:2rem;border-top:1px solid var(--border);background:var(--panel)}
.footer-inner{display:flex;align-items:center;justify-content:space-between}
.footer-nav a{color:var(--muted);text-decoration:none;margin-inline:0 .75rem}
.footer-nav a:hover{color:var(--text)}


/* ===== فرم‌ها ===== */
.form{display:grid;gap:.65rem}
.form input,.form textarea{width:100%;padding:.6rem;border-radius:.75rem;border:1px solid var(--border);background:transparent;color:var(--text)}
.form .form-note{color:var(--muted);font-size:.9rem}
.password-field{display:flex;gap:.5rem;align-items:center}
.password-field input{flex:1}


/* ===== تایپوگرافی ===== */
.prose h1{font-size:1.6rem;margin-bottom:.5rem}
.prose h2{font-size:1.2rem;margin-top:1rem}
.prose p{line-height:1.9}
.muted{color:var(--muted)}
.check-list{list-style:none;padding:0;margin:1rem 0}
.check-list li{position:relative;padding-inline-start:1.4rem;margin:.4rem 0}
.check-list li::before{content:"✓";position:absolute;inset-inline-start:0;color:var(--brand)}


/* ===== داشبورد ===== */
.stat{display:flex;flex-direction:column;gap:.25rem;text-align:center}
.stat-value{font-size:2rem;font-weight:800}
.stat-label{color:var(--muted)}
.chips{display:flex;flex-wrap:wrap;gap:.5rem}
.chip{border:1px solid var(--border);border-radius:999px;padding:.4rem .75rem;text-decoration:none;color:var(--text)}
.timeline{list-style:none;margin:0;padding:0}
.timeline li{padding:.5rem;border-bottom:1px dashed var(--border)}
.timeline li span{color:var(--muted);margin-inline-end:.5rem}


/* فاصله‌ها */
.mt{margin-top:1rem}

/* ===== تم شب‌ستاره‌ای ===== */
[data-theme="nightsky"] {
    --text: #ffffff;
    --muted: #a8b2d1;
    --brand: #8b5cf6;
    --brand-2: #a855f7;
    --border: #2d3748;
    --card: rgba(30, 41, 59, 0.8);
    --panel: rgba(15, 23, 42, 0.9);
    --background: linear-gradient(135deg, #0f0f23 0%, #1a0b3d 25%, #2d1b69 50%, #1a0b3d 75%, #0f0f23 100%);
}

[data-theme="nightsky"] body {
    background: linear-gradient(135deg, #0f0f23 0%, #1a0b3d 25%, #2d1b69 50%, #1a0b3d 75%, #0f0f23 100%);
    background-attachment: fixed;
    position: relative;
    transition: all 0.3s ease;
}

[data-theme="nightsky"] body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
    background-repeat: repeat;
    background-size: 200px 100px;
    animation: twinkle 20s linear infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes twinkle {
    0% { transform: translateY(0px); }
    100% { transform: translateY(-100px); }
}

[data-theme="nightsky"] .card {
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 92, 246, 0.3);
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.1);
    transition: all 0.3s ease;
}

[data-theme="nightsky"] .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(139, 92, 246, 0.2);
    border-color: rgba(139, 92, 246, 0.5);
}

[data-theme="nightsky"] .site-header {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(15px);
    border-bottom: 1px solid rgba(139, 92, 246, 0.3);
}

[data-theme="nightsky"] .site-footer {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(15px);
    border-top: 1px solid rgba(139, 92, 246, 0.3);
}

[data-theme="nightsky"] .btn {
    background: linear-gradient(135deg, #8b5cf6, #a855f7);
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
    transition: all 0.3s ease;
}

[data-theme="nightsky"] .btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
}

[data-theme="nightsky"] .btn-ghost {
    border-color: rgba(139, 92, 246, 0.5);
    color: #ffffff;
    transition: all 0.3s ease;
}

[data-theme="nightsky"] .btn-ghost:hover {
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.8);
}

[data-theme="nightsky"] .link {
    color: #a855f7;
    transition: all 0.3s ease;
}

[data-theme="nightsky"] .link:hover {
    color: #c084fc;
    text-shadow: 0 0 10px rgba(168, 85, 247, 0.5);
}

[data-theme="nightsky"] .icon-btn {
    border-color: rgba(139, 92, 246, 0.5);
    color: #ffffff;
    transition: all 0.3s ease;
}

[data-theme="nightsky"] .icon-btn:hover {
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.8);
}